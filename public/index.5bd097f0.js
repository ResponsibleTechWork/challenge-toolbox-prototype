function e(e,t,a,o){Object.defineProperty(e,t,{get:a,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},l=a.parcelRequire0e29;null==l&&((l=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return o[e]=a,t.call(a.exports,a,a.exports),a.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},a.parcelRequire0e29=l),l.register("bXuNP",(function(t,a){var o,n;e(t.exports,"register",(()=>o),(e=>o=e)),e(t.exports,"resolve",(()=>n),(e=>n=e));var l={};o=function(e){for(var t=Object.keys(e),a=0;a<t.length;a++)l[t[a]]=e[t[a]]},n=function(e){var t=l[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),l("bXuNP").register(JSON.parse('{"2JFQr":"index.5bd097f0.js","bJmGX":"rtw.db725a81.js","7WKo9":"rtw-trello.edaa1442.js","cX2tx":"spotify.1e0f0708.js","irEM1":"spotify-trello.89dab968.js","2Ywgl":"swm.415b8913.js","cHbDk":"princeton.82973572.js","kzChq":"index.adc73958.js"}'));var r=l("LdkDU");l("BvQ1f");var s;s=JSON.parse('{"authors":[{"id":"rtw","name":"ResponsibleTech.Work","title":"ResponsibleTech.Work Pledges"},{"id":"spotify","name":"Spotify","title":"Spotify Ethics Assessment"},{"id":"swm","name":"Sustainable Web Manifesto","title":"Sustainable Web Manifesto"},{"id":"pg","name":"Principles.Green","title":"Principles of Green Software Engineering"},{"id":"princeton","name":"Princeton web transparency","title":"Dark Patterns at Scale"}]}');const i=async e=>{const a=r.default.Scope.Board,o=r.default.Visibility.Shared,n=r.default.Key.ChallengePreferences,l=(r.default.Capability.BoardButtons,e.getContext());console.log("Context for board buttons: ",l);const i=t(s).authors.map((e=>({text:e.title,callback:async(t,l)=>{await t.set(a,o,n,e);const r=await t.get(a,o,n);console.log("return saved author: ",r)}})));return[{text:"Challenge Toolbox",callback:e=>(e=>(console.log("t in onBtnClick: ",e),e.popup({title:"Toolbox preferences",items:i})))(e),condition:r.default.Condition.Always}]};r=l("LdkDU");var c=l("BvQ1f");const d=(e,t)=>(async e=>{const t=r.default.Scope.Card,a=r.default.Visibility.Shared,o=r.default.Key.LogEntries,n=r.default.Capability.CardBadges,l=await e.get(t,a,o);console.log(`Data stored for ${o} against ${t} with ${a} access for ${n}  : `,l);const s=e.getContext();console.log("Context for card badges: ",s);const{challenges:i,celebrations:d}=c.default.getChallengeBadgeCounts(s,l),f=c.default.getButtonText(r.default.Type.Challenge,i),u=c.default.getButtonText(r.default.Type.Celebrate,d);if(console.log(`Current value for ${o} for card-badges`,l),0===i&&0===d)return[];const g=[{text:f,color:"red"},{text:u,color:"green"}],b=[];return 0!==i&&b.push(g[0]),0!==i&&b.push(g[1]),e.card("id","name").then((function(e){return b}))})(e);r=l("LdkDU"),c=l("BvQ1f");const f=(e,t)=>(async e=>{const t=r.default.Scope.Card,a=r.default.Visibility.Shared,o=r.default.Key.LogEntries,n=r.default.Capability.CardButtons,l=await e.get(t,a,o);console.log(`Data stored for ${o} against ${t} with ${a} access for ${n}  : `,l);const s=e.getContext();console.log("Context for card badges: ",s);const{challenges:i,celebrations:d}=c.default.getChallengeBadgeCounts(s,l),f=c.default.getButtonText(r.default.Type.Challenge,i),u=c.default.getButtonText(r.default.Type.Celebrate,d),g=e=>{console.log("onCloseChallengToolbox")},b=await e.card("name").get("name");return console.log("card: ",JSON.stringify(b,null,2)),[{icon:"https://cdn.hyperdev.com/us-east-1%3A3d31b21c-01a0-4da2-8827-4bc6e88b7618%2Ficon-gray.svg",text:f,condition:r.default.Condition.Always,callback:function(e){return e.modal({title:"Challenge",args:{type:r.default.Type.Challenge},url:"./modals/challenge.html",fullscreen:!1,height:500,callback:g})}},{icon:"https://cdn.hyperdev.com/us-east-1%3A3d31b21c-01a0-4da2-8827-4bc6e88b7618%2Ficon-gray.svg",text:u,condition:r.default.Condition.Always,callback:function(e){return e.modal({title:"Celebrate",args:{type:r.default.Type.Celebrate},url:"./modals/celebrate.html",fullscreen:!1,height:500})}}]})(e);r=l("LdkDU");l("bDs4w");r=l("LdkDU");Object.freeze({RTW:"rtw",Spotify:"spotify",SWM:"swm",PrinciplesGreen:"pg",Princeton:"princeton"}),Object.freeze({Trello:"Trello"});l.register("1L4ef",(function(e,t){e.exports=import("./"+l("bXuNP").resolve("bJmGX")).then((()=>l("b6NUa")))})),l.register("aL8Qr",(function(e,t){e.exports=import("./"+l("bXuNP").resolve("7WKo9")).then((()=>l("bEksa")))})),l.register("aHNJm",(function(e,t){e.exports=import("./"+l("bXuNP").resolve("cX2tx")).then((()=>l("bmO0s")))})),l.register("hL96R",(function(e,t){e.exports=import("./"+l("bXuNP").resolve("irEM1")).then((()=>l("f1e8W")))})),l.register("4Fu9l",(function(e,t){e.exports=import("./"+l("bXuNP").resolve("2Ywgl")).then((()=>l("ffvez")))})),l.register("MsWMT",(function(e,t){e.exports=import("./"+l("bXuNP").resolve("cHbDk")).then((()=>l("epFvb")))}));const u=(e,t)=>(async e=>{const t=r.default.Scope.Card,a=r.default.Visibility.Shared,o=r.default.Key.LogEntries,n=r.default.Capability.CardDetailBadges,l=(await e.get(t,a,o),await e.get(t,a,r.default.Key.ChallengePreferences));console.log(`Data stored for ${r.default.Key.ChallengePreferences} against ${t} with ${a} access for ${n}  : `,l);const s=await e.card("name").get("name");return console.log("card: ",JSON.stringify(s,null,2)),[{icon:GRAY_ICON,text:challengeText,condition:r.default.Condition.Always,callback:function(e){return e.modal({title:"Challenge",args:{type:r.default.Type.Challenge},url:"./modals/challenge.html",fullscreen:!1,height:500,callback:onCloseChallengToolbox})}}]})(e);window.TrelloPowerUp.initialize({"board-buttons":(e,t)=>((e,t)=>i(e))(e),"card-badges":(e,t)=>d(e),"card-buttons":(e,t)=>f(e),"card-detail-badges":(e,t)=>u(e)});
//# sourceMappingURL=index.5bd097f0.js.map
